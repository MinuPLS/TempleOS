.particleContainer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 5;
  overflow: visible;
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: contents;
}

.particle {
  position: absolute;
  pointer-events: none;
  will-change: transform, opacity, filter;
  mix-blend-mode: screen;
  transition: filter 0.3s ease;
}

/* Flame effect for JIT particles */
.particleFlame {
  position: relative;
}

.particleFlame::before {
  content: '';
  position: absolute;
  width: 150%;
  height: 150%;
  left: -25%;
  top: -25%;
  background: radial-gradient(
    ellipse at center bottom,
    rgba(255, 100, 0, 0.4) 0%,
    rgba(255, 200, 0, 0.2) 30%,
    transparent 70%
  );
  animation: flicker 0.5s ease-in-out infinite alternate;
  transform: scaleY(1.5);
}

@keyframes flicker {
  0% { opacity: 0.8; transform: scaleY(1.5) scaleX(1); }
  100% { opacity: 1; transform: scaleY(1.7) scaleX(1.1); }
}

/* Trail effect */
.particleTrail {
  position: absolute;
  pointer-events: none;
  opacity: 0.3;
  filter: blur(2px);
  mix-blend-mode: screen;
}

/* Transformation zone vortex effect */
.transformationZone {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 100px;
  height: 100px;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.transformationZone::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle,
    rgba(147, 51, 234, 0.2) 0%,
    rgba(147, 51, 234, 0.1) 50%,
    transparent 100%
  );
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 0.8; }
}

/* Energy field distortion */
.energyField {
  position: absolute;
  width: 100%;
  height: 100%;
  filter: url(#turbulence);
  opacity: 0.5;
  pointer-events: none;
}

/* Performance optimizations */
@media (prefers-reduced-motion: reduce) {
  .particle,
  .particleTrail,
  .particleFlame::before,
  .transformationZone::before {
    animation: none !important;
    transition: none !important;
  }
}

/* GPU acceleration hints */
.particle,
.particleTrail {
  transform: translateZ(0);
  will-change: transform, opacity;
}

/* Glow intensification in transformation zone */
.particleTransforming {
  filter: blur(1px) brightness(1.5) saturate(2);
}

/* Particle interaction zones */
.particleInteraction {
  position: absolute;
  width: 200%;
  height: 200%;
  left: -50%;
  top: -50%;
  pointer-events: none;
}

/* Motion blur for high-speed particles */
.particleMotionBlur {
  filter: blur(2px) brightness(1.2);
}

/* Breathing effect */
@keyframes breathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.particleBreathing {
  animation: breathe 3s ease-in-out infinite;
}

/* Color transition smoothing */
.particle {
  transition: background 0.3s ease, box-shadow 0.3s ease;
}